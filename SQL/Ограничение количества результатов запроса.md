
Давайте добавим ещё авторов и книг в нашу базу данных:

```sql
insert into author (name, description) values
    ('Александр Пушкин', 'Русский поэт, драматург и прозаик, рассматривается как основоположник современного русского литературного языка.'),
    ('Александр Беляев', 'Русский писатель-фантаст, один из основоположников советской научно-фантастической литературы.');

insert into book (name, author_id, category_id) values
    ('Они сражались за Родину', 1, 1),
    ('Поднятая целина', 1, 1),
    ('Донские рассказы', 1, 1),
    ('Наука ненависти', 1, 1),
    ('Капитанская дочка', 4, 1),
    ('Руслан и Людмила', 4, 1),
    ('Евгений Онегин', 4, 1),
    ('Метель', 4, 1),
    ('Пиковая дама', 4, 1),
    ('Сказка о рыбаке и рыбке', 4, 1),
    ('Голова профессора Доуэля', 5, 1),
    ('Остров погибших кораблей', 5, 1),
    ('Последний человек из Атлантиды', 5, 1),
    ('Властелин мира', 5, 1),
    ('Человек-амфибия', 5, 1),
    ('Продавец воздуха', 5, 1),
    ('Ариэль', 5, 1),
    ('Светопреставление', 5, 1),
    ('Вечный хлеб', 5, 1),
    ('Золотая гора', 5, 1),
    ('Земля горит', 5, 1),
    ('Путешествие к центру Земли', 3, 1),
    ('Дети капитана Гранта', 3, 1),
    ('Двадцать тысяч льё под водой', 3, 1),
    ('Вокруг Луны', 3, 1),
    ('Вокруг света за 80 дней', 3, 1),
    ('Таинственный остров', 3, 1),
    ('Пятнадцатилетний капитан', 3, 1),
    ('Зелёный луч.', 3, 1),
    ('В стране мехов', 3, 1);
```

Посмотрим, сколько у нас всего книг:

```sql
select count(*) from book;
```

Давайте отсортируем книги по названию и выберем первые 10 книг:

```sql
select book_id, name, author_id from book order by name limit 10;
```

А как отобразить вторую страницу с книгами, то есть следующие 10 книг? Надо указать `offset`, сдвиг:

```sql
select book_id, name, author_id from book order by name limit 10 offset 10;
```

Теперь мы снова выбираем 10 записей, но пропустив первые 10 записей.

Первый запрос без `OFFSET` фактически идентичен сдвигу 0:

```sql
select book_id, name, author_id from book order by name limit 10;
select book_id, name, author_id from book order by name limit 10 offset 0;
```

Чтобы достать третью страницу, сдвиг надо указать 20, потому что на двух предыдущих страницах как раз 20 книг, мы их пропускаем:

```sql
select book_id, name, author_id from book order by name limit 10 offset 20;
```

И четвертую страницу достаем, указав сдвиг 30:

```sql
select book_id, name, author_id from book order by name limit 10 offset 30;
```

Здесь всего 3 книги. Потому что книги закончились, их всего у нас 33.

А что если мы укажем сдвиг 100, то есть больше, чем всего книг?

```sql
select book_id, name, author_id from book order by name limit 10 offset 100;
```

То будет пустой результат — нет таких записей в таблице книг, которые удовлетворяют таким условиям, что и логично.

[[SQL]]