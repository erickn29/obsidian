
Давайте выберем все записи таблицы авторов:

```sql
select * from author;
```

Что, если надо достать конкретные поля, а не все поля? Просто указываем их через запятую вместо звёздочки (и именно так и надо поступать в production-коде — достаём только необходимые поля):

```sql
select author_id, name from author;
```

Использование псевдонима для колонки (alias):

```sql
select name as book_name, description as book_description from book;
```

Здорово! Хотя, кажется, что оно в таком простейшем варианте в общем примерно бессмысленно. Окей, давайте покажу более живой пример. Допустим, нам надо, чтобы название книги возвращалось из базы данных в верхнем регистре. Конечно, мы можем это сделать:

```sql
select upper(name) from book;
```

Мы видим, что у нас действительно теперь названия книг вернулись в большом регистре. Если у вас не вернулись в большом регистре — то проверьте, что вы создали базу данных так, как показал вам я, с правильной кодировкой. Вы можете зайти на сервер PostgreSQL под администратором, то есть, например, под пользователем `postgres`, и удалить базу данных командой:

```sql
drop database rroom_db;
```

И затем пересоздать её заново.

Ну так вот, а мы пока выполняем запрос:

```sql
select upper(name) from book;
```

Всё здорово, кроме того, что название колонки теперь `upper` по имени функции, которую мы применили к этой колонке. Вот чтобы переименовать эту колонку во что-то более понятное в результатах этого запроса и можно воспользоваться алиасом или псевдонимом, что то же самое:

```sql
select upper(name) as book_name from book;
select upper(name) book_name from book;
```

Функция `now()`:

```sql
select now();
```

Кстати, при указании полей, которые вы достаёте из таблицы, вы можете указывать имя таблицы. Когда в запросе одна таблица это избыточно, но в запросе может участвовать несколько таблиц и там это может быть уже необходимо (например, когда в обоих таблицах, участвующих в запросе, есть поля с одинаковым именем):

```sql
select book.name from book;
```

И здесь можно задать псевдоним уже самой таблице:

```sql
select b.name from book b;
select b.name from book as b;
```

Использование схемы (конкретно схемы `public`) и имени БД (`rroom_db` в нашем примере) в запросе — можно указывать, на таблицу какой схемы мы ссылаемся в запросе:

```sql
select name from book;
select name from public.book;
select name from rroom_db.public.book;
```

Кстати, есть такой параметр `search_path`, в котором приводятся схемы, в которых ищутся таблицы по умолчанию без указания схемы. То есть можно создать свою схему, добавить её в `search_path`, и писать имена таблиц этой схемы без упоминания имени этой схемы.

```sql
show search_path;
```

А ещё вместо:

```sql
select * from book;
```

можно использовать более короткий вариант:

```sql
table book;
```

При этом сортировки, `limit` — работают, о которых мы поговорим дальше:

```sql
table book limit 1;
table book order by name;
table book order by name desc limit 1;
```

И ещё покажу вам супер-пупер лайфхак — как извлечь квадратный корень в PostgrteSQL:

```sql
select |/25; -- 5
```

[[SQL]]